<mat-toolbar [class.mat-elevation-z6]=true color="primary">
    
    <span>Clearing House</span>
    <!-- <span class="example-spacer"></span> -->
    <!-- <button mat-icon-button class="example-icon favorite-icon" aria-label="Example icon-button with heart icon">
      <mat-icon>favorite</mat-icon>
    </button> -->
</mat-toolbar>



<mat-tab-group mat-align-tabs="center">

    <mat-tab label="Trades"> 
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
            <ng-container matColumnDef="BuyerCM">
              <th mat-header-cell *matHeaderCellDef> Buyer CM </th>
              <td mat-cell *matCellDef="let element"> {{element.BuyerCM}} </td>
            </ng-container>
          
            <!-- Name Column -->
            <ng-container matColumnDef="SellerCM">
              <th mat-header-cell *matHeaderCellDef> Seller CM </th>
              <td mat-cell *matCellDef="let element"> {{element.SellerCM}} </td>
            </ng-container>
          
            <!-- Weight Column -->
            <ng-container matColumnDef="ES">
              <th mat-header-cell *matHeaderCellDef> ES </th>
              <td mat-cell *matCellDef="let element"> {{element.ES}} </td>
            </ng-container>
          
            <!-- Symbol Column -->
            <ng-container matColumnDef="Qty">
              <th mat-header-cell *matHeaderCellDef> Quantity </th>
              <td mat-cell *matCellDef="let element"> {{element.Qty}} </td>
            </ng-container>
      
            <ng-container matColumnDef="Price">
              <th mat-header-cell *matHeaderCellDef> Price </th>
              <td mat-cell *matCellDef="let element"> {{element.Price}} </td>
            </ng-container>
      
            <ng-container matColumnDef="TradeValue">
              <th mat-header-cell *matHeaderCellDef> Trade Value </th>
              <td mat-cell *matCellDef="let element"> {{element.TradeValue}} </td>
            </ng-container>
          
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table> 

          <br>
          <div style="margin-right:5px">
            <button mat-raised-button color="accent" style="margin-left: 50px;">Generate reports</button>
          </div>
          
    </mat-tab>

    <mat-tab label="Corporate Actions"> 

      <mat-accordion>
       <table class="corpactiontab">
        <mat-expansion-panel *ngFor="let CMElement of dataSourceCorpActions" (opened)="panelOpenState = true" (closed)="panelOpenState = false">
          <mat-expansion-panel-header>
            <mat-panel-title class="panelTitle">
              <tr>
                 <td>{{CMElement.Securities}}&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;</td>
                 <td>{{CMElement.Action}}&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;</td>
                 <td> {{CMElement.Ratio}}</td>
              </tr>
            </mat-panel-title>
            <mat-panel-description>
              Click to toggle report view
            </mat-panel-description>
          </mat-expansion-panel-header>
          <table mat-table [dataSource]="CMElement.CM_List" class="mat-elevation-z8">
            <ng-container matColumnDef="CM">
              <th mat-header-cell *matHeaderCellDef> Security </th>
              <td mat-cell *matCellDef="let element"> {{element.CM}} </td>
            </ng-container>
            <ng-container matColumnDef="Initial_shares">
              <th mat-header-cell *matHeaderCellDef> Initial shares </th>
              <td mat-cell *matCellDef="let element"> {{element.Initial_shares}} </td>
            </ng-container>
            <ng-container matColumnDef="Current_shares">
              <th mat-header-cell *matHeaderCellDef> Current shares </th>
              <td mat-cell *matCellDef="let element"> {{element.Current_shares}} </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumnsCorpActions"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumnsCorpActions;"></tr>
          </table>
        </mat-expansion-panel>
      </table>
      </mat-accordion>
     
    </mat-tab>


    <mat-tab label="Obligation Report"> 
    <!-- Expansion Panel for Obligation Report -->
      <mat-accordion>
        <mat-expansion-panel *ngFor="let CMElement of obligationPanelData" (opened)="panelOpenState = true" (closed)="panelOpenState = false">
          <mat-expansion-panel-header>
            <mat-panel-title>
              {{CMElement.CM}}
            </mat-panel-title>
            <mat-panel-description>
              <!-- {{panelOpenState ? 'Hide' : 'Show'}} Report -->
              Click to toggle report view
            </mat-panel-description>
          </mat-expansion-panel-header>
          <table mat-table [dataSource]="CMElement.Report" class="mat-elevation-z8">
            <ng-container matColumnDef="Security">
              <th mat-header-cell *matHeaderCellDef> Security </th>
              <td mat-cell *matCellDef="let element"> {{element.Security}} </td>
            </ng-container>
            <ng-container matColumnDef="Balance">
              <th mat-header-cell *matHeaderCellDef> Balance </th>
              <td mat-cell *matCellDef="let element"> {{element.Balance}} </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="obPanelColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: obPanelColumns;"></tr>
          </table>
        </mat-expansion-panel>
      </mat-accordion>
    </mat-tab> 
    <!-- Ob Report tab end -->

    <mat-tab label="Obligation Matrix">
      <!-- Expansion Panel for Obligation Matrix -->
      <mat-accordion>
        <mat-expansion-panel (opened)="panelOpenState = true"
          (closed)="panelOpenState = false">
          <mat-expansion-panel-header>
            <mat-panel-title>
              Obligation Matrix for ES
            </mat-panel-title>
            <mat-panel-description>
              <!-- {{panelOpenState ? 'Hide' : 'Show'}} Report -->
              Click to toggle view
            </mat-panel-description>
          </mat-expansion-panel-header>
          <table mat-table [dataSource]="obligationMatrixEsData" class="mat-elevation-z8">
            <ng-container matColumnDef="temp" *ngFor="let temp of obligationMatrixEsColumns">
              <th mat-header-cell *matHeaderCellDef> {{temp}} </th>
              <td mat-cell *matCellDef="let element"> {{element[temp]}} </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="obligationMatrixEsColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: obligationMatrixEsColumns;"></tr>
          </table>
        </mat-expansion-panel>
      </mat-accordion>
    </mat-tab>
    <!-- Ob Matrix tab end -->



    <mat-tab label="Cost of Settlement"> 
        <table mat-table [dataSource]="costOfSettlementValueList" class="mat-elevation-z8">
            <ng-container matColumnDef="CM">
              <th mat-header-cell *matHeaderCellDef> Clearing Member</th>
              <td mat-cell *matCellDef="let element"> {{element.CM}} </td>
            </ng-container>
          
            <!-- Name Column -->
            <ng-container matColumnDef="Cost">
              <th mat-header-cell *matHeaderCellDef> Cost </th>
              <td mat-cell *matCellDef="let element"> {{element.Cost}} </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumnCost"></tr>
            <tr mat-row *matRowDef="let row; columns:displayedColumnCost;"></tr>        
        </table>
    </mat-tab>

</mat-tab-group>